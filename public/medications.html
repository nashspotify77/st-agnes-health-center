<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medications - Patient Portal</title>
    <!-- Local Bootstrap CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <!-- Global styles -->
    <link href="styles.css" rel="stylesheet">
    <style>
        /* page-specific tweaks if needed */
         .container {
             max-width: 800px;
             margin-top: 50px;
         }
         .medication {
             margin-bottom: 20px;
             box-shadow: 0 0 10px rgba(0,0,0,0.1);
         }
         /* buttons styled by global CSS */
     </style>
</head>
<body>
    <div class="container">
        <!-- Back button -->
        <div class="mb-3">
            <button class="btn btn-light" type="button" onclick="history.back()" aria-label="" data-i18n-attr="aria-label:btn.back"><span aria-hidden="true">←</span> <span data-i18n="btn.back">← Back</span></button>
        </div>
        <h2 class="text-center mb-4" data-i18n="medications.title">Medications</h2>
        <div id="medications-list">
            <!-- Medications will be dynamically added here -->
        </div>
        <div class="text-end">
            <a href="cart.html" class="btn btn-green">View Cart</a>
            <a href="dashboard.html" class="btn btn-green ms-2">Back to Dashboard</a>
        </div>
    </div>
    <!-- Local Bootstrap JS -->
    <script src="js/bootstrap.bundle.min.js"></script>
    <script src="lang.js"></script>
    <script>
        // Simulated medications database
        const medications = [
            { name: 'Aspirin', price: 5.99 },
            { name: 'Ibuprofen', price: 7.99 },
            { name: 'Paracetamol', price: 4.99 }
        ];

        let cart = JSON.parse(localStorage.getItem('cart')) || [];

        const medicationsList = document.getElementById('medications-list');
        medications.forEach(med => {
            const medDiv = document.createElement('div');
            medDiv.className = 'medication card';
            medDiv.innerHTML = `
                <div class="card-body">
                    <h5 class="card-title">${med.name}</h5>
                    <p class="card-text">Price: $${med.price.toFixed(2)}</p>
                    <button class="btn btn-green" onclick="addToCart('${med.name}', ${med.price})">Add to Cart</button>
                </div>
            `;
            medicationsList.appendChild(medDiv);
        });

        function addToCart(name, price) {
            cart.push({ name, price });
            localStorage.setItem('cart', JSON.stringify(cart));
            alert(`${name} added to cart`);
        }
        // Remove navbar/sidebar if present (defensive)
        document.addEventListener('DOMContentLoaded', function(){
            ['#sidebarMenu','#sidebarMenuOverlay','.menu-wrapper','.navbar','#mainMenuBtn'].forEach(s=>{
                document.querySelectorAll(s).forEach(el=>{ if (el && el.parentNode) el.parentNode.removeChild(el); });
            });
        });
    </script>
    <!-- Footer (same as index) -->
<footer class="site-footer" role="contentinfo">
  <div class="container">
    <div class="footer-column">
      <div class="footer-logo">
        <img src="images/logo.png" alt="logo">
        <div>
          <h4 data-i18n="footer.about_title">About</h4>
          <p class="footer-about" data-i18n="footer.about_text">St. Agnes Health Centre — quality care in Douala...</p>
        </div>
      </div>
    </div>
    <div class="footer-column footer-links">
      <h4 data-i18n="footer.quick_links">Quick Links</h4>
      <a href="index.html" data-i18n="nav.home">Home</a>
      <a href="services.html" data-i18n="nav.services">Services</a>
      <a href="#contact" data-i18n="nav.contact">Contact</a>
    </div>
    <div class="footer-column footer-contact">
      <h4 data-i18n="footer.contact_title">Contact</h4>
      <p><strong data-i18n="footer.phone_label">Phone</strong>: <a href="tel:+237671457143" style="color:inherit;text-decoration:none;">+237 671 457 143</a></p>
      <p><strong data-i18n="footer.email_label">Email</strong>: <a href="mailto:stagneshc@yahoo.com" style="color:inherit;text-decoration:none;">stagneshc@yahoo.com</a></p>
      <p data-i18n="footer.address_label">Address</p>
      <p>237 Cite de la Paix Douala-Bassa</p>
      <div class="footer-social" aria-label="Social links">
        <a href="#" aria-label="Facebook" title="Facebook">f</a>
        <a href="#" aria-label="Twitter" title="Twitter">t</a>
        <a href="#" aria-label="Instagram" title="Instagram">ig</a>
      </div>
    </div>
    <div class="footer-column footer-newsletter">
      <h4 data-i18n="footer.follow_us">Newsletter</h4>
      <form id="footer-newsletter-form" aria-label="Subscribe to newsletter">
        <input id="footer-newsletter-email" type="email" placeholder="" data-i18n-placeholder="footer.newsletter_placeholder" aria-label="Email">
        <button type="submit" data-i18n="footer.subscribe">Subscribe</button>
      </form>
      <div id="footer-newsletter-message" style="margin-top:8px;color:#bff7f7;"></div>
    </div>
  </div>

  <div class="container footer-bottom">
    <div>&copy; <span id="footer-year"></span> St. Agnes Health Centre</div>
  </div>
</footer>

<script>
  document.getElementById('footer-year').textContent = new Date().getFullYear();
</script>
</body>
</html>